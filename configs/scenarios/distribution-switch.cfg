! Distribution Switch Configuration - Scenario 1
! Layer 3 switch providing inter-VLAN routing

hostname Distribution-SW-01

! VLANs
vlan 10
   name SALES
!
vlan 20
   name ENGINEERING
!
vlan 30
   name MANAGEMENT
!
vlan 100
   name SERVERS

! Loopback for OSPF
interface Loopback0
   ip address 2.2.2.2/32
   description "OSPF Router ID"

! Uplink to core router
interface Ethernet48
   description "Uplink to Core Router"
   no switchport
   ip address 192.168.1.2/30
   no shutdown

! Downlinks to access switches
interface Ethernet1
   description "Trunk to Access-SW-01"
   switchport mode trunk
   switchport trunk allowed vlan 10,20,30,100
   no shutdown

interface Ethernet2
   description "Trunk to Access-SW-02"
   switchport mode trunk
   switchport trunk allowed vlan 10,20,30,100
   no shutdown

interface Ethernet3
   description "Trunk to Access-SW-03"
   switchport mode trunk
   switchport trunk allowed vlan 10,20,30,100
   no shutdown

! VLAN interfaces (SVIs) for inter-VLAN routing
interface Vlan10
   description "Sales VLAN Gateway"
   ip address 10.1.10.1/24
   no shutdown

interface Vlan20
   description "Engineering VLAN Gateway"
   ip address 10.1.20.1/24
   no shutdown

interface Vlan30
   description "Management VLAN Gateway"
   ip address 10.1.30.1/24
   no shutdown

interface Vlan100
   description "Server VLAN Gateway"
   ip address 10.1.100.1/24
   no shutdown

! Management interface
interface Management1
   ip address 192.168.100.2/24
   no shutdown

! Enable IP routing
ip routing

! OSPF Configuration
router ospf 1
   router-id 2.2.2.2
   network 192.168.1.0/30 area 0
   network 10.1.10.0/24 area 0
   network 10.1.20.0/24 area 0
   network 10.1.30.0/24 area 0
   network 10.1.100.0/24 area 0
   network 2.2.2.2/32 area 0
   passive-interface Vlan10
   passive-interface Vlan20
   passive-interface Vlan30
   passive-interface Vlan100

! Spanning Tree
spanning-tree mode mstp